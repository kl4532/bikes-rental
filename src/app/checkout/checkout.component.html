<mat-tab-group [(selectedIndex)]="tabIndex">
  <mat-tab label="Basket">
    <app-basket></app-basket>
  </mat-tab>
  <mat-tab label="Personal details">
    <div *ngIf="loggedIn">
      <!--  TODO after auth works -> details-->
    </div>

    <div class="guest-form"*ngIf="!loggedIn">
      <p><a [routerLink]="['/login']">Log in</a> to get access to additional features</p>

      <form action="" [formGroup]="reservationForm" (ngSubmit)="tabIndex = 2">
        <mat-label>Order as a guest</mat-label>
        <mat-divider></mat-divider>

        <mat-form-field>
          <mat-label>First name</mat-label>
          <input matInput formControlName="firstName" type="text">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input matInput formControlName="lastName" type="text">
        </mat-form-field>
        <mat-form-field>
          <mat-label>email</mat-label>
          <input matInput formControlName="email" type="email">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone" type="text">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Street</mat-label>
          <input matInput formControlName="street" type="text">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Zip code</mat-label>
          <input matInput formControlName="zipCode" type="text">

        </mat-form-field>
        <mat-form-field>
          <mat-label>City</mat-label>
          <input matInput formControlName="city" type="text">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Country</mat-label>
          <input matInput formControlName="country" type="text">
        </mat-form-field>

        <div class="buttons">
          <button [disabled]="reservationForm.invalid" mat-raised-button color="primary" type="submit">Next</button>
        </div>
      </form>
    </div>
  </mat-tab>
  <mat-tab [disabled] = "reservationForm.invalid" label="Order">
    <h3>Personal details</h3>
    <p>{{reservationForm.controls?.firstName.value}} {{reservationForm.controls?.lastName.value}}</p>
    <p>{{reservationForm.controls?.email.value}} {{reservationForm.controls?.phone.value}}</p>
    <p>{{reservationForm.controls?.street.value}} {{reservationForm.controls?.city.value}} {{reservationForm.controls?.zipCode.value}}</p>
    <p>{{reservationForm.controls?.country.value}}</p>

    <h3>Order</h3>
    <div>
      <ul>
        <li *ngFor="let item of order">{{item.name}}</li>
      </ul>
      Total: {{ totalPrice}}$
      <button mat-raised-button color="primary" type="submit" (click)="onOrderSubmit()">Order</button>
    </div>

  </mat-tab>
</mat-tab-group>




